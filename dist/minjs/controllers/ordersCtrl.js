!function(){"use strict";function e(e,t,o,n,r,s,a,i,m,u,c,d,l){var p=e,f=d.get("order");f&&f.length>0&&c.transitionTo("app.meat-selection"),p.pageSize=5,p.currentPage=1,r.getList().then(function(e){p.users=e}),i.getList().then(function(e){p.orders=e}),u.getList().then(function(e){p.customers=e}),p.neworder={},p.createCustomer=function(){p.newCustomer.fullName=p.newCustomer.fname+" "+p.newCustomer.lname,u.post(p.newCustomer).then(function(e){p.neworder.customerID=e.order[0]._id,p.neworder.customerEmail=p.newCustomer.email,p.neworder.customerName=p.newCustomer.fullName}),m.save(p.neworder),c.transitionTo("app.meat-selection")},p.newExistingCustomerOrder=function(e){u.getList().then(function(t){p.customers=t,angular.forEach(p.customers,function(t){t._id==e._id&&(p.neworder.customerID=e._id,p.neworder.customerName=e.fname+" "+e.lname)})}),m.save(p.neworder),c.transitionTo("app.meat-selection")},p.editOrder=function(e){m.save(e),c.transitionTo("app.meat-selection")},p.editCustomers=function(e){p.selectedCustomer=e,p.showModal()},p.updateCustomer=function(){u.post(p.selectedCustomer).then(function(){console.log(p.selectedCustomer),u.getList().then(function(e){p.customers=e,p.openModal.hide()})})},p.openModal=l({scope:p,templateUrl:"apps/orders/modals/existingCustomerModal.html",show:!1,animation:"am-fade-and-slide-top",placement:"center-top"}),p.showModal=function(e){p.modalItem=e,p.openModal.$promise.then(p.openModal.show)}}angular.module("app").controller("orderCtrl",e),e.$inject=["$scope","$http","$filter","$aside","Users","$location","$rootScope","Orders","order","Customers","$state","$cookies","$modal"]}();