!function(){"use strict";function e(e,t,r,o,d,n,i,a,u,p){var c=e;c.today=new Date,c.getOrdersArray=function(){var e=[];return c.filteredOrders=p("filter")(c.orders,c.pickUpDate,c.searchList),angular.forEach(c.filteredOrders,function(t){e.push({customerID:c.filterOrderID(t.customerID),store:t.store,pickUpDate:t.pickUpDate,staffOwner:t.staffOwner,orderNumber:t.orderNumber})}),e},c.orderType="1",c.pickupdates=[{date:"16"},{date:"17"},{date:"18"},{date:"19"},{date:"20"},{date:"21"},{date:"22"},{date:"23"},{date:"24"}],c.citypud=[],c.toorakpud=[],c.delipud=[],c.citypud[16]=0,c.citypud[17]=0,c.citypud[18]=0,c.citypud[19]=0,c.citypud[20]=0,c.citypud[21]=0,c.citypud[22]=0,c.citypud[23]=0,c.citypud[24]=0,c.toorakpud[16]=0,c.toorakpud[17]=0,c.toorakpud[18]=0,c.toorakpud[19]=0,c.toorakpud[20]=0,c.toorakpud[21]=0,c.toorakpud[22]=0,c.toorakpud[23]=0,c.toorakpud[24]=0,c.delipud[16]=0,c.delipud[17]=0,c.delipud[18]=0,c.delipud[19]=0,c.delipud[20]=0,c.delipud[21]=0,c.delipud[22]=0,c.delipud[23]=0,c.delipud[24]=0,t.getList().then(function(e){c.orders=e,c.lol=function(){console.log(c.pickUpDate1,c.pickUpDate2,c.pickUpDate3)},angular.forEach(e,function(e){"City"==e.store&&(c.citypud[Number(e.pickUpDate)]+=1),"Toorak"==e.store&&(c.toorakpud[Number(e.pickUpDate)]+=1),"Deli"==e.store&&(c.delipud[Number(e.pickUpDate)]+=1)}),i.getList().then(function(e){c.customers=e}),u.getList().then(function(e){c.deletedOrders=e}),c.printPage=function(){window.print()},c.goBack=function(){window.history.go(-1)},c.store=["Toorak","City","Deli"],c.removeOrder=function(e){u.post(e).then(function(){u.getList().then(function(e){c.deletedOrders=e})}),c.orders.remove(e).then(function(){t.getList().then(function(e){c.orders=e,c.openDeleteModal.hide()})})},c.filterOrderID=function(e){var t="";return angular.forEach(c.customers,function(r){r._id==e&&(t=r.fname+" "+r.lname)}),t},c.updateOrder=function(e){t.post(e).then(function(){t.getList().then(function(e){c.orders=e})})},c.undoDelete=function(e){c.orders.post(e).then(function(){t.getList().then(function(e){c.orders=e})}),c.deletedOrders.remove(e).then(function(){u.getList().then(function(e){c.deletedOrders=e,c.openDeleteModal.hide()})})},c.pageSize=10,c.currentPage=1,c.pageSize1=10,c.currentPage1=1,c.changePageSize=function(){c.pageSize=1e4},c.openDeleteModal=o({scope:c,templateUrl:"apps/admin/modals/deleteOrderModal.html",show:!1,animation:"am-fade-and-slide-top",placement:"center"}),c.deleteProductModal=function(e){c.modalItem=e,c.openDeleteModal.$promise.then(c.openDeleteModal.show)}})}angular.module("app").controller("adminOrdersCtrl",e),e.$inject=["$scope","Orders","order","$modal","$state","$stateParams","Customers","$rootScope","DeletedOrders","$filter"]}();