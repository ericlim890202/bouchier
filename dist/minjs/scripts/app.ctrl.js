!function(){"use strict";function e(e,a,o,t,n,r,c,i,l,s,d,m,p,f){function h(){return l.cart().items}function u(e){l.removeItem(e),A.deleteModal.hide()}function g(){if(void 0!=l.cart().items)return l.cart().items.length}function v(){a.hash("content"),t(),a.hash(""),$("#aside").modal("hide"),$("body").removeClass("modal-open").find(".modal-backdrop").remove(),$(".navbar-toggleable-sm").collapse("hide")}function w(){return!!navigator.userAgent.match(/MSIE/i)||!!navigator.userAgent.match(/Trident.*rv:11\./)}function M(){var e=r.navigator.userAgent||r.navigator.vendor||r.opera;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(e)}function b(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a=new RegExp("[\\?&]"+e+"=([^&#]*)"),o=a.exec(location.search);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))}var A=e;A.isIE=w(),A.isSmart=M(),A.dropdownCart=h,A.removeFromCart=u,A.totalCartCount=g,A.deleteModal=d({scope:A,templateUrl:"apps/modals/deleteModal.html",show:!1,animation:"am-fade-and-slide-top",placement:"center"}),A.showDelModal=function(e){A.modalItem=e,A.deleteModal.$promise.then(A.deleteModal.show)},A.cancelModal=d({scope:A,templateUrl:"apps/modals/cancelModal.html",show:!1,animation:"am-fade-and-slide-top",placement:"center"}),A.showCancelModal=function(){A.cancelModal.$promise.then(A.cancelModal.show)},A.cancelOrder=function(){p.remove("order"),f.transitionTo("app.select-order"),A.cancelModal.hide()},A.openAside=m({scope:e,show:!1,templateUrl:"apps/navigation/asideNav.html",animation:"am-slide-left",placement:"left"}),A.showAside=function(){A.openAside.$promise.then(A.openAside.show)},c.getList().then(function(e){A.users=e,i.get("user").success(function(e,a,t,n){angular.forEach(A.users,function(a){e.username==a._id&&(o.loggedUser=a,A.firstLetter=o.loggedUser.name.charAt(0))})})}),A.app={name:"CRM",version:"2.0",color:{primary:"#0cc2aa",accent:"#a88add",warn:"#fcc100",info:"#6887ff",success:"#6cc788",warning:"#f77a99",danger:"#f44455",white:"#ffffff",light:"#f1f2f3",dark:"#2e3e4e",black:"#2a2b3c"},setting:{theme:{primary:"primary",accent:"accent",warn:"warn"},folded:!0,boxed:!1,container:!1,themeID:1,bg:""}},b("bg")&&(A.app.setting.bg=b("bg")),o.$on("$stateChangeSuccess",v),A.goBack=function(){r.history.back()}}angular.module("app").controller("AppCtrl",e),e.$inject=["$scope","$location","$rootScope","$anchorScroll","$timeout","$window","Users","$http","order","Orders","$modal","$aside","$cookies","$state"]}();